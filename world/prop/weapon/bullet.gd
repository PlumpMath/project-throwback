extends Area2D

#----------------------------------------------------------------------------------------------------
# global
#----------------------------------------------------------------------------------------------------

onready var weapon = get_node("/root/gx/player/weapon")

#var direction = Vector2()
const SPEED = 1000
var velocity = Vector2()


#----------------------------------------------------------------------------------------------------
#
#----------------------------------------------------------------------------------------------------

func _ready():
	set_fixed_process(true)


#----------------------------------------------------------------------------------------------------
#
#----------------------------------------------------------------------------------------------------

func _fixed_process(delta):
#	set_pos(get_pos() + vel * delta)

	translate(Vector2(delta * SPEED, 0))


#----------------------------------------------------------------------------------------------------
# _on_body
#----------------------------------------------------------------------------------------------------

func _on_bullet_body_enter( body ):

	if (body.get_groups().has("enemies")):
		body.hit(weapon.damage)
		get_node("/root/gx/data").bullets_hit += 1
	else:
		get_node("/root/gx/data").bullets_missed += 1

	queue_free()


#----------------------------------------------------------------------------------------------------
# end
#----------------------------------------------------------------------------------------------------
